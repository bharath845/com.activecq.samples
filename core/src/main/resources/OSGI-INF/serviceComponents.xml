<?xml version="1.0" encoding="UTF-8"?>
<components xmlns:scr="http://www.osgi.org/xmlns/scr/v1.1.0">
    <scr:component enabled="true" immediate="true" name="com.activecq.samples.clientcontext.impl.ClientContextBuilderImpl">
        <implementation class="com.activecq.samples.clientcontext.impl.ClientContextBuilderImpl"/>
        <service servicefactory="false">
            <provide interface="com.activecq.samples.clientcontext.ClientContextBuilder"/>
        </service>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="service.pid" value="com.activecq.samples.clientcontext.impl.ClientContextBuilderImpl"/>
        <reference name="xss" interface="com.adobe.granite.xss.XSSFilter" cardinality="1..1" policy="static" bind="bindXss" unbind="unbindXss"/>
        <reference name="externalizer" interface="com.day.cq.commons.Externalizer" cardinality="1..1" policy="static" bind="bindExternalizer" unbind="unbindExternalizer"/>
        <reference name="slingRepository" interface="org.apache.sling.jcr.api.SlingRepository" cardinality="1..1" policy="static" bind="bindSlingRepository" unbind="unbindSlingRepository"/>
        <reference name="resourceResolverFactory" interface="org.apache.sling.api.resource.ResourceResolverFactory" cardinality="1..1" policy="static" bind="bindResourceResolverFactory" unbind="unbindResourceResolverFactory"/>
    </scr:component>
    <scr:component enabled="true" immediate="true" name="com.activecq.samples.clientcontext.impl.SampleClientContextStoreImpl">
        <implementation class="com.activecq.samples.clientcontext.impl.SampleClientContextStoreImpl"/>
        <service servicefactory="false">
            <provide interface="com.activecq.samples.clientcontext.ClientContextStore"/>
        </service>
        <property name="contextstore.id" type="String" value="sample"/>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="service.pid" value="com.activecq.samples.clientcontext.impl.SampleClientContextStoreImpl"/>
        <reference name="userPropertiesService" interface="com.adobe.granite.security.user.UserPropertiesService" cardinality="1..1" policy="static" bind="bindUserPropertiesService" unbind="unbindUserPropertiesService"/>
        <reference name="clientContextBuilder" interface="com.activecq.samples.clientcontext.ClientContextBuilder" cardinality="1..1" policy="static" bind="bindClientContextBuilder" unbind="unbindClientContextBuilder"/>
    </scr:component>
    <scr:component enabled="true" immediate="false" name="com.activecq.samples.contentfinder.querybuilder.ContentFinderResultHitWriter" factory="com.day.cq.search.result.ResultHitWriter/cf" activate="activate" deactivate="deactivate">
        <implementation class="com.activecq.samples.contentfinder.querybuilder.ContentFinderResultHitWriter"/>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="service.pid" value="com.activecq.samples.contentfinder.querybuilder.ContentFinderResultHitWriter"/>
    </scr:component>
    <scr:component enabled="true" immediate="true" name="com.activecq.samples.eventhandlers.SampleEventHandler">
        <implementation class="com.activecq.samples.eventhandlers.SampleEventHandler"/>
        <service servicefactory="false">
            <provide interface="com.day.cq.jcrclustersupport.ClusterAware"/>
            <provide interface="org.apache.sling.event.jobs.JobProcessor"/>
            <provide interface="org.osgi.service.event.EventHandler"/>
        </service>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="event.topics" type="String">
            com/activecq/events/poked
            com/activecq/samples/*
        </property>
        <property name="service.pid" value="com.activecq.samples.eventhandlers.SampleEventHandler"/>
        <reference name="eventAdmin" interface="org.osgi.service.event.EventAdmin" cardinality="1..1" policy="static" bind="bindEventAdmin" unbind="unbindEventAdmin"/>
    </scr:component>
    <scr:component enabled="true" immediate="true" name="com.activecq.samples.eventhandlers.SampleEventPublisher">
        <implementation class="com.activecq.samples.eventhandlers.SampleEventPublisher"/>
        <service servicefactory="false">
            <provide interface="org.apache.sling.event.jobs.JobProcessor"/>
            <provide interface="org.osgi.service.event.EventHandler"/>
        </service>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="event.topics" type="String">
            org/apache/sling/api/resource/Resource/ADDED
            org/apache/sling/api/resource/Resource/CHANGED
            org/apache/sling/api/resource/Resource/REMOVED
        </property>
        <property name="service.pid" value="com.activecq.samples.eventhandlers.SampleEventPublisher"/>
        <reference name="eventAdmin" interface="org.osgi.service.event.EventAdmin" cardinality="1..1" policy="static" bind="bindEventAdmin" unbind="unbindEventAdmin"/>
    </scr:component>
    <scr:component enabled="true" immediate="true" name="com.activecq.samples.eventhandlers.SampleJcrEventListener" activate="activate" deactivate="deactivate">
        <implementation class="com.activecq.samples.eventhandlers.SampleJcrEventListener"/>
        <service servicefactory="false">
            <provide interface="javax.jcr.observation.EventListener"/>
        </service>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="service.pid" value="com.activecq.samples.eventhandlers.SampleJcrEventListener"/>
        <reference name="repository" interface="org.apache.sling.jcr.api.SlingRepository" cardinality="1..1" policy="static" bind="bindRepository" unbind="unbindRepository"/>
        <reference name="eventAdmin" interface="org.osgi.service.event.EventAdmin" cardinality="1..1" policy="static" bind="bindEventAdmin" unbind="unbindEventAdmin"/>
    </scr:component>
    <scr:component enabled="true" immediate="true" name="com.activecq.samples.liveactions.SampleLiveAction" activate="activate" deactivate="deactivate">
        <implementation class="com.activecq.samples.liveactions.SampleLiveAction"/>
        <service servicefactory="false">
            <provide interface="com.day.cq.wcm.api.msm.LiveAction"/>
        </service>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="cq.wcm.msm.action.name" type="String" value="sampleLiveAction"/>
        <property name="cq.wcm.msm.action.title" type="String" value="ActiveCQ Samples - Live Action"/>
        <property name="cq.wcm.msm.action.rank" type="Integer" value="10"/>
        <property name="cq.wcm.msm.action.properties" type="String" value="enabled"/>
        <property name="service.pid" value="com.activecq.samples.liveactions.SampleLiveAction"/>
    </scr:component>
    <scr:component enabled="true" name="com.activecq.samples.querybuilder.SampleJsonHitWriter" factory="com.day.cq.search.writer.ResultHitWriter/activecq-sample">
        <implementation class="com.activecq.samples.querybuilder.SampleJsonHitWriter"/>
        <property name="service.pid" value="com.activecq.samples.querybuilder.SampleJsonHitWriter"/>
    </scr:component>
    <scr:component enabled="true" immediate="false" name="com.activecq.samples.resourcedecorators.SampleResourceTypeResourceDecorator" activate="activate" deactivate="deactivate">
        <implementation class="com.activecq.samples.resourcedecorators.SampleResourceTypeResourceDecorator"/>
        <service servicefactory="false">
            <provide interface="org.apache.sling.api.resource.ResourceDecorator"/>
        </service>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="prop.resource-types" type="String" value="vendors/activecq/samples/components/fake/slideshow"/>
        <property name="service.pid" value="com.activecq.samples.resourcedecorators.SampleResourceTypeResourceDecorator"/>
    </scr:component>
    <scr:component enabled="true" immediate="false" name="com.activecq.samples.slingadapterfactories.SampleAdapterFactory" activate="activate" deactivate="deactivate">
        <implementation class="com.activecq.samples.slingadapterfactories.SampleAdapterFactory"/>
        <service servicefactory="false">
            <provide interface="org.apache.sling.api.adapter.AdapterFactory"/>
        </service>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="service.ranking" type="Integer" value="0"/>
        <property name="adaptables" type="String" value="org.apache.sling.api.SlingHttpServletRequest"/>
        <property name="adapters" type="String" value="org.apache.sling.api.resource.Resource"/>
        <property name="service.pid" value="com.activecq.samples.slingadapterfactories.SampleAdapterFactory"/>
    </scr:component>
    <scr:component enabled="true" immediate="false" name="com.activecq.samples.slingauthenticationhandler.SampleSlingAuthenticationHandler" activate="activate" deactivate="deactivate">
        <implementation class="com.activecq.samples.slingauthenticationhandler.SampleSlingAuthenticationHandler"/>
        <service servicefactory="false">
            <provide interface="org.apache.sling.auth.core.spi.AuthenticationHandler"/>
            <provide interface="org.apache.sling.auth.core.spi.AuthenticationFeedbackHandler"/>
        </service>
        <property name="path" type="String" value="/content/sample-path"/>
        <property name="service.ranking" type="Integer" value="20"/>
        <property name="authtype" type="String" value="FORM"/>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="prop.trust-credentials" type="String" value="TrustedInfo"/>
        <property name="service.pid" value="com.activecq.samples.slingauthenticationhandler.SampleSlingAuthenticationHandler"/>
        <reference name="resourceResolverFactory" interface="org.apache.sling.api.resource.ResourceResolverFactory" cardinality="1..1" policy="static" bind="bindResourceResolverFactory" unbind="unbindResourceResolverFactory"/>
    </scr:component>
    <scr:component enabled="true" name="com.activecq.samples.slingfilters.SampleSlingFilter">
        <implementation class="com.activecq.samples.slingfilters.SampleSlingFilter"/>
        <service servicefactory="false">
            <provide interface="javax.servlet.Filter"/>
        </service>
        <property name="service.ranking" type="Integer" value="0"/>
        <property name="sling.filter.scope" value="REQUEST"/>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="service.pid" value="com.activecq.samples.slingfilters.SampleSlingFilter"/>
    </scr:component>
    <scr:component enabled="true" name="com.activecq.samples.slingfilters.SampleSlingIncludeFilter">
        <implementation class="com.activecq.samples.slingfilters.SampleSlingIncludeFilter"/>
        <service servicefactory="false">
            <provide interface="javax.servlet.Filter"/>
        </service>
        <property name="service.ranking" type="Integer" value="0"/>
        <property name="sling.filter.scope" value="INCLUDE"/>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="service.pid" value="com.activecq.samples.slingfilters.SampleSlingIncludeFilter"/>
    </scr:component>
    <scr:component enabled="true" immediate="false" name="com.activecq.samples.slingresourceprovider.SampleSlingResourceProvider" activate="activate" deactivate="deactivate">
        <implementation class="com.activecq.samples.slingresourceprovider.SampleSlingResourceProvider"/>
        <service servicefactory="false">
            <provide interface="org.apache.sling.api.resource.ResourceProvider"/>
        </service>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="provider.roots" type="String" value="/content/mount/thirdparty"/>
        <property name="service.pid" value="com.activecq.samples.slingresourceprovider.SampleSlingResourceProvider"/>
    </scr:component>
    <scr:component enabled="true" immediate="true" name="com.activecq.samples.slingscheduler.SampleScheduledService" activate="activate" deactivate="deactivate">
        <implementation class="com.activecq.samples.slingscheduler.SampleScheduledService"/>
        <service servicefactory="false">
            <provide interface="com.day.cq.jcrclustersupport.ClusterAware"/>
            <provide interface="java.lang.Runnable"/>
        </service>
        <property name="service.enabled" type="Boolean" value="true"/>
        <property name="scheduler.expression" type="String" value="0 1 0 ? * *"/>
        <property name="scheduler.concurrent" type="Boolean" value="false"/>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="service.pid" value="com.activecq.samples.slingscheduler.SampleScheduledService"/>
        <reference name="resourceResolverFactory" interface="org.apache.sling.api.resource.ResourceResolverFactory" cardinality="1..1" policy="static" bind="bindResourceResolverFactory" unbind="unbindResourceResolverFactory"/>
    </scr:component>
    <scr:component enabled="true" immediate="false" name="com.activecq.samples.slingservice.impl.SampleClusterAwareServiceImpl" activate="activate" deactivate="deactivate">
        <implementation class="com.activecq.samples.slingservice.impl.SampleClusterAwareServiceImpl"/>
        <service servicefactory="false">
            <provide interface="com.day.cq.jcrclustersupport.ClusterAware"/>
            <provide interface="com.activecq.samples.slingservice.SampleClusterAwareService"/>
        </service>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="prop.enabled" type="Boolean" value="false"/>
        <property name="service.pid" value="com.activecq.samples.slingservice.impl.SampleClusterAwareServiceImpl"/>
        <reference name="resourceResolverFactory" interface="org.apache.sling.api.resource.ResourceResolverFactory" cardinality="1..1" policy="static" bind="bindResourceResolverFactory" unbind="unbindResourceResolverFactory"/>
    </scr:component>
    <scr:component enabled="true" immediate="false" name="com.activecq.samples.slingservice.impl.SampleMultiReferenceServiceImpl" activate="activate" deactivate="deactivate">
        <implementation class="com.activecq.samples.slingservice.impl.SampleMultiReferenceServiceImpl"/>
        <service servicefactory="false">
            <provide interface="com.activecq.samples.slingservice.SampleService"/>
        </service>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="prop.enabled" type="Boolean" value="false"/>
        <property name="service.pid" value="com.activecq.samples.slingservice.impl.SampleMultiReferenceServiceImpl"/>
        <reference name="sampleService" interface="com.activecq.samples.slingservice.SampleService" cardinality="0..n" policy="dynamic" bind="bindReferenceServices" unbind="unbindReferenceServices"/>
        <reference name="resourceResolverFactory" interface="org.apache.sling.api.resource.ResourceResolverFactory" cardinality="1..1" policy="static" bind="bindResourceResolverFactory" unbind="unbindResourceResolverFactory"/>
    </scr:component>
    <scr:component enabled="true" immediate="false" name="com.activecq.samples.slingservice.impl.SampleServiceImpl" activate="activate" deactivate="deactivate">
        <implementation class="com.activecq.samples.slingservice.impl.SampleServiceImpl"/>
        <service servicefactory="false">
            <provide interface="com.activecq.samples.slingservice.SampleService"/>
        </service>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="prop.enabled" type="Boolean" value="false"/>
        <property name="service.pid" value="com.activecq.samples.slingservice.impl.SampleServiceImpl"/>
        <reference name="resourceResolverFactory" interface="org.apache.sling.api.resource.ResourceResolverFactory" cardinality="1..1" policy="static" bind="bindResourceResolverFactory" unbind="unbindResourceResolverFactory"/>
    </scr:component>
    <scr:component enabled="true" immediate="false" name="com.activecq.samples.workflow.LocalizedTagTitleExtractorProcessWorkflow">
        <implementation class="com.activecq.samples.workflow.LocalizedTagTitleExtractorProcessWorkflow"/>
        <service servicefactory="false">
            <provide interface="com.day.cq.workflow.exec.WorkflowProcess"/>
        </service>
        <property name="service.description" type="String" value="Sample Workflow Process implementation - Writes tags titles to index-able property."/>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="process.label" type="String" value="Localized Tag Title Extractor"/>
        <property name="service.pid" value="com.activecq.samples.workflow.LocalizedTagTitleExtractorProcessWorkflow"/>
        <reference name="resourceResolverFactory" interface="org.apache.sling.api.resource.ResourceResolverFactory" cardinality="1..1" policy="static" bind="bindResourceResolverFactory" unbind="unbindResourceResolverFactory"/>
    </scr:component>
    <scr:component enabled="true" immediate="false" name="com.activecq.samples.workflow.SampleProcessWorkflow">
        <implementation class="com.activecq.samples.workflow.SampleProcessWorkflow"/>
        <service servicefactory="false">
            <provide interface="com.day.cq.workflow.exec.WorkflowProcess"/>
        </service>
        <property name="service.description" type="String" value="Sample Workflow Process implementation."/>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="process.label" type="String" value="Sample Workflow Process"/>
        <property name="service.pid" value="com.activecq.samples.workflow.SampleProcessWorkflow"/>
        <reference name="resourceResolverFactory" interface="org.apache.sling.api.resource.ResourceResolverFactory" cardinality="1..1" policy="static" bind="bindResourceResolverFactory" unbind="unbindResourceResolverFactory"/>
    </scr:component>
    <scr:component enabled="true" immediate="true" name="com.activecq.samples.workflow.TagExplosionProcessWorkflow">
        <implementation class="com.activecq.samples.workflow.TagExplosionProcessWorkflow"/>
        <service servicefactory="false">
            <provide interface="com.day.cq.workflow.exec.WorkflowProcess"/>
        </service>
        <property name="service.description" type="String" value="Explodes tags."/>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="process.label" type="String" value="Tag Explosion"/>
        <property name="service.pid" value="com.activecq.samples.workflow.TagExplosionProcessWorkflow"/>
        <reference name="resourceResolverFactory" interface="org.apache.sling.api.resource.ResourceResolverFactory" cardinality="1..1" policy="static" bind="bindResourceResolverFactory" unbind="unbindResourceResolverFactory"/>
    </scr:component>
    <scr:component enabled="true" name="com.activecq.samples.servlets.SampleSafeMethodsServlet">
        <implementation class="com.activecq.samples.servlets.SampleSafeMethodsServlet"/>
        <service servicefactory="false">
            <provide interface="javax.servlet.Servlet"/>
        </service>
        <property name="sling.servlet.paths" value="/services/safe-sample"/>
        <property name="sling.servlet.selectors">
            print.a4
            print
        </property>
        <property name="sling.servlet.extensions" value="html"/>
        <property name="sling.servlet.methods" value="GET"/>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="service.pid" value="com.activecq.samples.servlets.SampleSafeMethodsServlet"/>
    </scr:component>
    <scr:component enabled="true" name="com.activecq.samples.servlets.SampleAllMethodsServlet">
        <implementation class="com.activecq.samples.servlets.SampleAllMethodsServlet"/>
        <service servicefactory="false">
            <provide interface="javax.servlet.Servlet"/>
        </service>
        <property name="sling.servlet.paths" value="/services/all-sample"/>
        <property name="sling.servlet.selectors" value="print.a4"/>
        <property name="sling.servlet.extensions">
            html
            htm
        </property>
        <property name="sling.servlet.methods">
            GET
            POST
        </property>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="service.pid" value="com.activecq.samples.servlets.SampleAllMethodsServlet"/>
    </scr:component>
    <scr:component enabled="true" immediate="true" name="com.activecq.samples.contentfinder.viewhandler.QueryBuilderViewHandler">
        <implementation class="com.activecq.samples.contentfinder.viewhandler.QueryBuilderViewHandler"/>
        <service servicefactory="false">
            <provide interface="javax.servlet.Servlet"/>
            <provide interface="javax.servlet.ServletConfig"/>
            <provide interface="java.io.Serializable"/>
        </service>
        <property name="sling.servlet.paths" type="String" value="/bin/wcm/contentfinder/qb/view"/>
        <property name="service.vendor" type="String" value="ActiveCQ"/>
        <property name="service.pid" value="com.activecq.samples.contentfinder.viewhandler.QueryBuilderViewHandler"/>
        <reference name="provider" interface="com.day.cq.commons.predicate.PredicateProvider" cardinality="1..1" policy="static" bind="bindProvider" unbind="unbindProvider"/>
    </scr:component>
</components>
